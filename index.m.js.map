{"version":3,"file":"index.m.js","sources":["src/index.js"],"sourcesContent":["import { h } from 'preact'\n\nconst findA = (el) => {\n  if (el.tagName === 'A') {\n    return el\n  }\n  if (el.parentElement) {\n    return findA(el.parentElement)\n  }\n  return null\n}\n\nconst getLocalPathname = (a) => {\n  if (a && a.origin === window.location.origin) {\n    return a.href.replace(window.location.origin, '')\n  }\n  return null\n}\n\nexport default ({onInternalNav, children, className}) => (\n  h('div', {\n    className,\n    onClick: (e) => {\n      const aTag = findA(e.target)\n      if (aTag && aTag.target !== '_blank') {\n        const url = getLocalPathname(aTag)\n        const meta = e.ctrlKey || e.shiftKey || e.altKey || e.metaKey || e.button !== 0\n        if (url && !meta) {\n          e.preventDefault()\n          onInternalNav(url)\n        }\n      }\n    }\n  }, children)\n)\n"],"names":["const","findA","el","tagName","parentElement","getLocalPathname","a","origin","window","location","href","replace","ref","onInternalNav","children","className","h","onClick","e","aTag","target","url","meta","ctrlKey","shiftKey","altKey","metaKey","button","preventDefault"],"mappings":"2BAEAA,IAAMC,WAASC,GACb,MAAmB,MAAfA,EAAGC,QACED,EAELA,EAAGE,cACEH,EAAMC,EAAGE,eAEX,MAGHC,WAAoBC,GACxB,OAAIA,GAAKA,EAAEC,SAAWC,OAAOC,SAASF,OAC7BD,EAAEI,KAAKC,QAAQH,OAAOC,SAASF,OAAQ,IAEzC,MAGT,WAAgBK,OAACC,kBAAeC,aAAUC,qBACxCC,EAAE,iBACAD,EACAE,iBAAUC,GACRlB,IAAMmB,EAAOlB,EAAMiB,EAAEE,QACrB,GAAID,GAAwB,WAAhBA,EAAKC,OAAqB,CACpCpB,IAAMqB,EAAMhB,EAAiBc,GACvBG,EAAOJ,EAAEK,SAAWL,EAAEM,UAAYN,EAAEO,QAAUP,EAAEQ,SAAwB,IAAbR,EAAES,OAC/DN,IAAQC,IACVJ,EAAEU,iBACFf,EAAcQ,OAInBP"}